/* static/css/main.css — v5 (responsive mobile OK) */

/* ===== Reset & base ===== */
* { box-sizing: border-box }
html, body { height: 100% }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color: #f2f4f8;
  background: #0b0f14;
}

/* ===== Fond vidéo / overlay ===== */
.global-bg, .bg-video {
  position: fixed; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: -2;
  filter: brightness(.45) saturate(1.1);
}
.bg-overlay { position: fixed; inset: 0; background: radial-gradient(1200px 600px at 50% 20%, rgba(0,0,0,.20), rgba(0,0,0,.65) 60%, rgba(0,0,0,.8)); z-index: -1; }

/* ===== Topbar / nav ===== */
.topbar{position:sticky;top:0;z-index:50;display:flex;align-items:center;gap:.75rem;padding:.5rem .8rem;background:rgba(10,12,16,.75);backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,.06)}
.brand{font-weight:600;white-space:nowrap}.brand a{color:#fff;text-decoration:none}.section{opacity:.85}
.tabs-desktop{display:none;gap:.6rem;margin-left:1rem}
.tabs-desktop a{display:inline-block;padding:.35rem .6rem;border-radius:12px;text-decoration:none;color:#e9eef6;font-weight:500;opacity:.9}
.tabs-desktop a:hover{background:rgba(255,255,255,.08);opacity:1}
.pill{padding:.3rem .6rem;border-radius:999px;background:rgba(255,255,255,.09);border:1px solid rgba(255,255,255,.10);font-size:.85rem}
.burger{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:999px;border:none;background:rgba(255,255,255,.09);color:#fff;cursor:pointer}
.burger:hover{background:rgba(255,255,255,.15)}
.drawer{position:fixed;inset:0 0 0 auto;width:82vw;max-width:320px;transform:translateX(100%);transition:transform .28s ease;background:rgba(12,14,18,.96);backdrop-filter:blur(6px);border-left:1px solid rgba(255,255,255,.06);z-index:60;color:#fff}
.drawer[aria-hidden="false"]{transform:translateX(0)}
.drawer-header{display:flex;align-items:center;justify-content:space-between;padding:.8rem}
.drawer ul{list-style:none;margin:0;padding:.2rem .8rem 1rem}
.drawer li a{display:block;padding:.6rem .5rem;color:#fff;text-decoration:none;border-radius:10px}
.drawer li a:hover{background:rgba(255,255,255,.08)}
@media (min-width:980px){.tabs-desktop{display:flex}.burger{display:none}}

/* ===== Layout container ===== */
.container { width: min(1100px, 100%); padding: 0 12px; margin: 1.2rem auto 2rem; }
.footer { text-align:center; opacity:.65; padding:.6rem 0 1rem }

/* ------------------------------------------------------------------ */
/*                           ACCUEIL (HERO)                            */
/* ------------------------------------------------------------------ */
.hero-center { text-align:center; margin: 7vh 0 4vh; }
.hero-center h1 { font-size: clamp(2rem, 2.8vw + 1rem, 3rem); margin: 0 0 .6rem; }
.subtitle { opacity:.85; margin-bottom: 1.2rem; }

/* Cartes : grille 100% mobile, 2 colonnes tablet, 3 desktop */
.cards-hero {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
  margin: 0;
}
@media (min-width: 600px) {
  .cards-hero { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 1024px) {
  .cards-hero { grid-template-columns: repeat(3, 1fr); }
}

/* Carte individuelle (ratio stable) */
.card-hero {
  position: relative;
  display: block;
  aspect-ratio: 16/9;          /* évite le débordement vertical */
  min-height: 160px;
  border-radius: 14px;
  overflow: hidden;
  text-decoration: none;
  color: #fff;
  border: 1px solid rgba(255,255,255,.14);
  background: center/cover no-repeat var(--bg, linear-gradient(120deg,#3b82f6,#06b6d4));
  box-shadow: 0 18px 48px rgba(0,0,0,.30);
  transform: translateZ(0);
  transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
}
.card-hero::after{
  content:""; position:absolute; inset:auto 0 0 0; height:58%;
  background: linear-gradient(to top, rgba(0,0,0,.58), rgba(0,0,0,0));
}
.card-hero:hover { transform: scale(1.035); box-shadow: 0 28px 70px rgba(0,0,0,.45); filter: saturate(1.05) brightness(1.02); }
.card-hero__bg { position:absolute; inset:0; width:100%; height:100%; object-fit: cover; }
.card-hero__fade { position:absolute; inset:0; background: linear-gradient(180deg, transparent, rgba(0,0,0,.5)); }
.card-hero__text { position:absolute; left:16px; bottom:16px; z-index:2; text-align:left }
.card-hero__text h3 { margin:.1rem 0; font-size:1.35rem; }
.card-hero__text p { margin:0; opacity:.9 }

/* Images/vidéos jamais plus larges que l’écran */
img, video { max-width: 100%; height: auto; display:block; }

/* ------------------------------------------------------------------ */
/*                              GALERIE                                */
/* ------------------------------------------------------------------ */
.page-head h2 { margin:.2rem 0 .2rem; font-size:1.6rem }
.muted { color:#d7dde6cc }

.gallery-toolbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:.75rem; flex-wrap:wrap; margin:1rem 0 .5rem
}
.tabs{display:flex;gap:.4rem;flex-wrap:wrap}
.tab{background:transparent;border:1px solid rgba(255,255,255,.15);border-radius:999px;padding:.35rem .85rem;color:#fff;cursor:pointer}
.tab.active,.tab:hover{background:rgba(255,255,255,.12)}
.album-chips{display:flex;gap:.45rem;flex-wrap:wrap;margin:.6rem 0 1rem}
.chip{border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:#fff;padding:.3rem .65rem;border-radius:999px;cursor:pointer}
.chip.active,.chip:hover{background:rgba(255,255,255,.16)}
.upload-panel{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:.8rem;margin:.2rem 0 1rem}
.upload-panel .row{display:flex;gap:.7rem;align-items:end;flex-wrap:wrap}
.btn-file{cursor:pointer}.btn-file input{display:none}

/* Grille responsive de la galerie */
.grid { display:grid; gap:12px; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
@media (min-width: 480px) { .grid { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); } }
@media (min-width: 900px) { .grid { grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); } }

.cell{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;position:relative}
.media{position:relative;overflow:hidden; display:grid; place-items:center; aspect-ratio: 4 / 3;}
.media img,.media video{width:100%;height:100%;object-fit:cover;display:block;transform:translateZ(0);transition:transform .25s ease}
.cell:hover .media img{transform:scale(1.05)} /* petit zoom au survol */
.audio-box,.doc-box{display:flex;align-items:center;justify-content:center;height:100%;gap:.7rem}
.emoji{font-size:1.8rem}
.meta{display:flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.45rem .6rem;background:rgba(0,0,0,.2)}
.tag{font-size:.85rem;opacity:.9}
.icon-btn{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);color:#fff;border-radius:10px;padding:.25rem .5rem;cursor:pointer}
.icon-btn:hover{background:rgba(255,255,255,.18)}
.sel-overlay{position:absolute;top:8px;left:8px;display:flex;align-items:center;gap:.35rem;background:rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.2);border-radius:999px;padding:.2rem .45rem;font-size:.85rem;z-index:2}

/* ------------------------------------------------------------------ */
/*                              LIGHTBOX                               */
/* ------------------------------------------------------------------ */
.lightbox{position:fixed;inset:0;display:none;z-index:80}
.lightbox.open{display:block}
.lb-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.78);backdrop-filter:blur(4px);cursor:zoom-out}
.lb-content{position:absolute;inset:4% 5%;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.28);display:flex;align-items:center;justify-content:center}
.lb-top{position:absolute;top:8px;left:12px;right:12px;display:flex;align-items:center;justify-content:space-between;gap:.5rem;pointer-events:none}
.lb-actions .pill{margin-left:.4rem;pointer-events:auto}
.lb-close{position:absolute;top:8px;left:8px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.25);color:#fff;border-radius:10px;padding:.25rem .5rem;cursor:pointer;z-index:3}
.lb-close:hover{background:rgba(255,255,255,.22)}
.lb-media{max-width:100%;max-height:100%;display:flex;align-items:center;justify-content:center;padding:3.5rem 3rem 2.5rem}
.lb-media img,.lb-media video,.lb-media iframe{max-width:92vw;max-height:82vh;object-fit:contain;border-radius:8px;background:#000}
.lb-prev,.lb-next{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.28);color:#fff;border-radius:999px;width:46px;height:46px;cursor:pointer;z-index:3}
.lb-prev{left:16px} .lb-next{right:16px}
.lb-prev:hover,.lb-next:hover{background:rgba(255,255,255,.24)}
